<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.boarddao.BoardMapper">

	<!-- 게시물 기본 조회 -->
	<select id="boardList" parameterType="com.spring.boardvo.BoardVO" resultType="com.spring.boardvo.BoardVO"> 
		select 
				b_num      <!-- 게시물 순번 -->
			  , b_name    <!-- 게시물 작성자-->
			  , b_title      <!-- 게시물 제목 -->
			  , to_char(b_date,'YYYY-MM-DD') as b_date  <!-- 게시물 작성일 --> 
		from spring_board 
	</select>
	
	<insert id="boardInsert" parameterType="com.spring.boardvo.BoardVO">
		
			<selectKey keyProperty="b_num" resultType="int" order="BEFORE">
					select spring_board_seq.nextval from dual
			</selectKey>
			INSERT IN TO spring_board(
							  b_num
							, b_name
							, b_title
							, b_content
							, b_pwd)
			VALUES(		  #{b_num}
							, #{b_name}
							, #{b_title}
							, #{b_content}
							, #{b_pwd}	 
						)
	</insert>		 
	
	<!-- 비밀번호 확인 -->
	<select id="pwdConfirm" parameterType="com.spring.boardvo.BoardVO" resultType="int">
		select nvl((
		select 1 from spring_board
		where b_num = #{b_num}
		and b_pwd = #{b_pwd}
		),0) as state
		
		from dual
		
		))
	
	
	
	
	</select> 
			  
			  

</mapper>	 